(this["webpackJsonppokemon-checker"]=this["webpackJsonppokemon-checker"]||[]).push([[0],{40:function(e,t,n){},55:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),s=n(41),i=n.n(s),r=(n(55),n(8)),c=n(15),l=n(31),u=n(29),h=(n(40),n(78)),m=n(0),p=function(e){var t=e.name,n=e.url,o=e.onSelectPokemon;return Object(m.jsx)(h.a,{sx:{margin:"5px",fontSize:"10px"},children:Object(m.jsx)("h2",{onClick:function(){return o(t,n)},children:t})})};function d(e){var t=e.pokemonQuery,n=e.onPokemonSelected,o=[];return t&&(o=t.map((function(e,t){return Object(m.jsx)(p,{name:e.name,url:e.url,onSelectPokemon:n},t)}))),0===o.length?Object(m.jsx)("div",{children:Object(m.jsx)("h4",{children:"No pokemon found"})}):Object(m.jsx)(h.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:"5px"},children:o})}var f,v=function(e){var t=e.searchChange;return Object(m.jsx)("div",{className:"pa2",children:Object(m.jsx)("input",{className:"pa3 ba b--green bg-lightest-blue",type:"search",placeholder:"Enter a Pokemon Name",onChange:t})})},b=n(36);!function(e){e.PHYSICAL="physical",e.SPECIAL="special",e.STATUS="status",e.NULL="null"}(f||(f={}));var j,k,y=function e(t){var n,o,a,s,i;Object(r.a)(this,e),this.name=void 0,this.power=void 0,this.accuracy=void 0,this.damage_class=void 0,this.description=void 0,this.url=void 0,this.name=t.name,this.power=null!==(n=t.power)&&void 0!==n?n:-1,this.accuracy=null!==(o=t.accuracy)&&void 0!==o?o:-1,this.damage_class=null!==(a=t.damage_class)&&void 0!==a?a:f.NULL,this.description=null!==(s=t.description)&&void 0!==s?s:"",this.url=null!==(i=t.url)&&void 0!==i?i:""},O=function e(){Object(r.a)(this,e),this.createMoveFromStub=function(e){var t={name:e.move.name,url:e.move.url};return new y(t)},this.createMoveFromData=function(e){var t={name:e.name,power:e.power,accuracy:e.accuracy,damage_class:e.damage_class,description:e.description,url:e.url};return new y(t)}};!function(e){e.BUG="bug",e.DARK="dark",e.DRAGON="dragon",e.ELECTRIC="electric",e.FAIRY="fairy",e.FIGHTING="fighting",e.FIRE="fire",e.FLYING="flying",e.GHOST="ghost",e.GRASS="grass",e.GROUND="ground",e.ICE="ice",e.NORMAL="normal",e.POISON="poison",e.PSYCHIC="psychic",e.ROCK="rock",e.STEEL="steel",e.WATER="water"}(j||(j={})),function(e){e[e.HP=0]="HP",e[e.ATK=1]="ATK",e[e.DEF=2]="DEF",e[e.SPA=3]="SPA",e[e.SPD=4]="SPD",e[e.SPE=5]="SPE"}(k||(k={}));var S,g=function(){function e(t){var n,o;Object(r.a)(this,e),this.name=void 0,this.dexId=void 0,this.type1=void 0,this.type2=void 0,this.moves=void 0,this.frontDefault=void 0,this.frontShiny=void 0,this.stats=void 0,this.baseStats=void 0,this.url=void 0;var a=t.stats,s=k;this.name=t.name,this.dexId=t.id,this.moves=t.moves,this.type1=null!==(n=t.types[0].name)&&void 0!==n?n:"",this.type2=t.types[1]?t.types[1].name:null,this.frontDefault=t.sprites.front_default,this.frontShiny=t.sprites.front_shiny,this.url=null!==(o=t.url)&&void 0!==o?o:"",this.stats={hp:a[s.HP].base_stat,attack:a[s.ATK].base_stat,defense:a[s.DEF].base_stat,spAttack:a[s.SPA].base_stat,spDefense:a[s.SPD].base_stat,speed:a[s.SPE].base_stat},this.baseStats=this.calculateBaseStats()}return Object(c.a)(e,[{key:"getDisplayStats",value:function(){return{name:this.name,id:this.dexId.toString(),moves:this.moves.map((function(e){return e.name})),type1:this.type1,type2:this.type2,sprites:{frontDefault:this.frontDefault,frontShiny:this.frontShiny}}}},{key:"hasFullData",get:function(){return this.name.length>0&&this.dexId>0&&this.moves.length>0&&this.frontDefault.length>0&&this.frontShiny.length>0}},{key:"hasUrl",get:function(){return this.url.length>0}},{key:"calculateBaseStats",value:function(){if(this.stats){var e=this.stats;return e.hp+e.attack+e.defense+e.spAttack+e.spDefense+e.speed}return 0}}]),e}(),x=function e(){var t=this;Object(r.a)(this,e),this.moveFactory=void 0,this.getFullPokemonConstructorProps=function(e){return{name:e.name,id:e.id,types:e.types.map((function(e){return e.type})),moves:e.moves.map((function(e){return t.moveFactory.createMoveFromStub(e)})),sprites:e.sprites,stats:e.stats.map((function(e){return{base_stat:e.base_stat}}))}},this.createPokemon=function(e){return new g(t.getFullPokemonConstructorProps(e))},this.createPokemonStub=function(e){var t={name:j.BUG,url:"https://pokeapi.co/api/v2/type/7/"},n={name:e.name,id:-1,types:[t],sprites:{back_default:null,back_female:null,back_shiny:null,back_shiny_female:null,front_default:"",front_female:null,front_shiny:"",front_shiny_female:null,other:{},versions:{}},moves:[],stats:[{base_stat:0},{base_stat:0},{base_stat:0},{base_stat:0},{base_stat:0},{base_stat:0}],url:e.url};return new g(n)},this.convertStubToDTO=function(e,n){var o=Object(b.a)(Object(b.a)({},t.getFullPokemonConstructorProps(n)),{},{url:e.url});return new g(o)},this.moveFactory=new O},P=function(e){var t=e.name,n=e.id;return Object(m.jsx)("div",{id:"PokemonName",children:Object(m.jsxs)("h5",{children:[t," ",n]})})},D=n(5),_=n(14),E=n(75),T=n(37),N=n(80),w=n(81),I=n(82),C=Object(_.a)(E.a)((function(e){var t=e.theme;return Object(D.a)({},"&.".concat(T.a.body),{color:t.palette.common.white,fontSize:14,textAlign:"center"})})),A=function(e){var t=e.baseStats,n=e.stats;return Object(m.jsxs)("div",{id:"PokemonBaseStats",children:[Object(m.jsx)("h5",{children:t}),Object(m.jsx)(N.a,{sx:{minWidth:300},"aria-label":"stat table",color:"white",children:Object(m.jsxs)(w.a,{children:[Object(m.jsxs)(I.a,{children:[Object(m.jsx)(C,{children:"HP"}),Object(m.jsx)(C,{children:null===n||void 0===n?void 0:n.hp})]}),Object(m.jsxs)(I.a,{children:[Object(m.jsx)(C,{children:"Attack"}),Object(m.jsx)(C,{children:null===n||void 0===n?void 0:n.attack})]}),Object(m.jsxs)(I.a,{children:[Object(m.jsx)(C,{children:"Defense"}),Object(m.jsx)(C,{children:null===n||void 0===n?void 0:n.defense})]}),Object(m.jsxs)(I.a,{children:[Object(m.jsx)(C,{children:"Special Attack"}),Object(m.jsx)(C,{children:null===n||void 0===n?void 0:n.spAttack})]}),Object(m.jsxs)(I.a,{children:[Object(m.jsx)(C,{children:"Special Defense"}),Object(m.jsx)(C,{children:null===n||void 0===n?void 0:n.spDefense})]}),Object(m.jsxs)(I.a,{children:[Object(m.jsx)(C,{children:"Speed"}),Object(m.jsx)(C,{children:null===n||void 0===n?void 0:n.speed})]})]})})]})},F=function(e){var t=e.type1,n=e.type2;return Object(m.jsx)("div",{id:"PokemonTypes",children:Object(m.jsxs)("h5",{children:[t," ",n]})})},U=function(e){var t=e.altImageName,n=e.defaultFront,o=e.defaultFrontS;return Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{id:"pokemonDisplay",src:n,alt:t}),o?Object(m.jsx)("img",{id:"pokemonDisplay",src:o,alt:t}):Object(m.jsx)("h2",{children:"No Shiny"})]})},L=n(77),R=function(e){var t=e.pokemonName,n=e.dexId,o=e.baseStats,a=e.stats,s=e.type1,i=e.type2,r=e.displayDefault,c=e.displayDefaultS;return Object(m.jsxs)(L.a,{container:!0,alignItems:"center",columnSpacing:0,children:[Object(m.jsx)(L.a,{item:!0,xs:12,sm:7,children:Object(m.jsx)(U,{altImageName:t,defaultFront:r,defaultFrontS:c})}),Object(m.jsxs)(L.a,{item:!0,xs:12,sm:!0,children:[Object(m.jsx)(F,{type1:s,type2:i}),Object(m.jsx)(P,{name:t,id:n})]}),Object(m.jsx)(L.a,{item:!0,xs:12,children:Object(m.jsx)(A,{baseStats:o,stats:a})})]})},M=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"Waiting for Pokemon selection"})})},H=n(79),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).pokemonToDisplay=void 0,o.pokemonFactory=void 0,o.state={pokemonObject:{}},o.pokemonToDisplay=null,o.pokemonFactory=new x,o}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){e.pokemonUrl!==this.props.pokemonUrl&&this.fetchPokemonObject()}},{key:"fetchPokemonObject",value:function(){var e=this,t=this.props.pokemonUrl;t&&""!==t&&this.props.getPokemonData(t).then((function(t){return e.createPokemonObject(t)})).catch(console.log)}},{key:"createPokemonObject",value:function(e){this.pokemonToDisplay=this.pokemonFactory.createPokemon(e),this.setState({pokemonObject:this.pokemonToDisplay.getDisplayStats()})}},{key:"render",value:function(){var e,t,n,o,a,s,i=this.pokemonToDisplay,r="",c="";return i?(e=i.name,t="#".concat(i.dexId),r=i.frontDefault,c=i.frontShiny,n=i.type1,o=i.type2?i.type2:null,a=i.stats,s="Total base stats: "+i.baseStats.toString(),Object(m.jsx)(H.a,{maxWidth:"sm",children:Object(m.jsx)(R,{pokemonName:e,dexId:t,baseStats:s,stats:a,type1:n,type2:o,displayDefault:r,displayDefaultS:c})})):(e="Awaiting Pokemon Selection",t="",r="",c="",n="",o="",a=null,s="",Object(m.jsx)("div",{className:"AwaitingPokemon",children:Object(m.jsx)(M,{})}))}}]),n}(a.a.Component),G=n(23),K=n.n(G),W=n(38);!function(e){e[e.MILLISECONDS_PER_SECOND=1e3]="MILLISECONDS_PER_SECOND",e[e.SECONDS_PER_MINUTE=60]="SECONDS_PER_MINUTE",e[e.MINUTES_PER_HOUR=60]="MINUTES_PER_HOUR"}(S||(S={}));var J=function(){function e(){Object(r.a)(this,e),this.pokemonTable=void 0,this.expiryTimestamp=void 0,this.factory=void 0,this.pokemonTable={},this.factory=new x,this.expiryTimestamp=this.initTimestamp()}return Object(c.a)(e,[{key:"initTimestamp",value:function(){var t=Number(localStorage.getItem(e.storageTimestampKey));return null!==t&&void 0!==t?t:0}},{key:"setExpiryTimestamp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,n=Date.now()+t*S.MILLISECONDS_PER_SECOND*S.SECONDS_PER_MINUTE;localStorage.setItem(e.storageTimestampKey,n.toString())}},{key:"isExpired",get:function(){return this.expiryTimestamp<Date.now()}},{key:"setPokemonData",value:function(e){this.pokemonTable[e.name]=e}},{key:"getPokemonData",value:function(e){var t;return null!==(t=this.pokemonTable[e])&&void 0!==t?t:null}},{key:"getAllPokemon",value:function(){var e,t=this;return null!==(e=Object.keys(this.pokemonTable).map((function(e){return t.pokemonTable[e]})))&&void 0!==e?e:[]}},{key:"loadPokemonBatch",value:function(e){var t=this;e.forEach((function(e){return t.setPokemonData(e)}))}},{key:"savePokemon",value:function(){localStorage.setItem("pokemonTable",JSON.stringify(this.pokemonTable))}},{key:"loadFromStorage",value:function(){var e=this,t=localStorage.getItem("pokemonTable");if(t){var n=JSON.parse(t);Object.keys(n).forEach((function(t){var o=e.factory.createPokemonStub(n[t]);e.setPokemonData(o)}))}}}]),e}();J.storageTimestampKey="expiryTimestamp";var Y=function(){function e(){var t=this;Object(r.a)(this,e),this.getAllUrl=void 0,this.factory=void 0,this.repository=void 0,this.resolvePokemonStubs=function(){var e=Object(W.a)(K.a.mark((function e(n){var o,a,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return o=e.sent,a=o.results,s=a.filter((function(e){var n=e.url.substring(0,e.url.length-1).split("/"),o=Number(n.pop());return!!(o&&o<1e4)&&t.factory.createPokemonStub(e)})),t.storePokemonStubs(s),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllUrl="https://pokeapi.co/api/v2/pokemon?limit=1000offset=0",this.repository=new J,this.factory=new x}return Object(c.a)(e,[{key:"storePokemonStubs",value:function(e){try{this.repository.loadPokemonBatch(e),this.repository.savePokemon(),this.repository.setExpiryTimestamp(30)}catch(t){"string"===typeof t?console.log("Could not store pokemon stubs: ".concat(t)):t instanceof Error?console.log("Failed to store pokemon stub: ".concat(t.message)):console.log("Unknown error storing pokemon stubs: ".concat(t))}}},{key:"getAllPokemon",value:function(){var e=Object(W.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.repository.isExpired){e.next=6;break}return e.next=3,fetch(this.getAllUrl).then(this.resolvePokemonStubs);case 3:return e.abrupt("return",e.sent);case 6:return this.repository.loadFromStorage(),e.abrupt("return",Promise.resolve(this.repository.getAllPokemon()));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(e){return fetch(e).then((function(e){return e.json()}))}}]),e}(),z=["ho-oh","porygon-z","jangmo-o","hakamo-o","kommo-o"],Q={"mr-mime":"Mr. Mime","mime-jr":"Mime Jr.","mr-rime":"Mr. Rime"},$={"nidoran-m":"Nidoran\u2642","nidoran-f":"Nidoran\u2640"},q={farfetchd:"Farfetch'd",sirfetchd:"Sirfetch'd"},V={flabebe:"Flab\xe9b\xe9"},X={"type-null":"Type: Null"};function Z(e,t){if(t){var n=e.split("-");return n[0].charAt(0).toUpperCase()+n[0].slice(1)+"-"+n[1].charAt(0).toUpperCase()+n[1].slice(1)}return e.charAt(0).toUpperCase()+e.slice(1)}var ee=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).pokeService=void 0,o.onSearchChange=function(e){e&&e.target&&e.target.value&&o.setState({searchfield:e.target.value})},o.onPokemonSelected=function(e,t){t&&""!==t&&o.setState({pokemonSelected:e,pokemonUrl:t})},o.state={pokemonList:[],pokemonName:"",searchfield:"",pokemonSelected:"",pokemonUrl:""},o.pokeService=new Y,o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.pokeService.getAllPokemon().then((function(t){t.map((function(e){return e.name=(t=e.name.toLowerCase())in Q?Q[t]:t in $?$[t]:t in q?q[t]:t in V?V[t]:t in X?X[t]:t.includes("-")&&!z.find((function(e){return e===t}))?Z(t.split("-")[0]):t.includes("-")&&z.find((function(e){return e===t}))?Z(t,!0):Z(t);var t})),e.setState({pokemonList:t})})).catch(console.log)}},{key:"render",value:function(){var e=this.state,t=e.pokemonList,n=e.searchfield,o=e.pokemonUrl,a=[];return n.length<2||(a=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"Search for a Pokemon"}),Object(m.jsx)(v,{searchChange:this.onSearchChange}),Object(m.jsx)(d,{onPokemonSelected:this.onPokemonSelected,pokemonQuery:a}),Object(m.jsx)(B,{getPokemonData:this.pokeService.getPokemon,pokemonUrl:o})]})}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(ee,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.61872ef9.chunk.js.map