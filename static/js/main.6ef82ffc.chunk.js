(this["webpackJsonppokemon-checker"]=this["webpackJsonppokemon-checker"]||[]).push([[0],{40:function(e,t,n){},55:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n.n(o),a=n(41),s=n.n(a),i=(n(55),n(8)),c=n(15),l=n(32),u=n(30),h=(n(40),n(80)),m=n(0),d=function(e){var t=e.name,n=e.url,o=e.onSelectPokemon;return Object(m.jsx)(h.a,{sx:{margin:"5px",fontSize:"10px"},children:Object(m.jsx)("h2",{onClick:function(){return o(t,n)},children:t})})};function p(e){var t=e.pokemonQuery,n=e.onPokemonSelected,o=[];return t&&(o=t.map((function(e,t){return Object(m.jsx)(d,{name:e.name,url:e.url,onSelectPokemon:n},t)}))),0===o.length?Object(m.jsx)("div",{children:Object(m.jsx)("h4",{children:"No pokemon found"})}):Object(m.jsx)(h.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:"5px"},children:o})}var b,f=function(e){var t=e.searchChange;return Object(m.jsx)("div",{className:"pa2",children:Object(m.jsx)("input",{className:"pa3 ba b--green bg-lightest-blue",type:"search",placeholder:"Enter a Pokemon Name",onChange:t})})},k=n(21);!function(e){e.PHYSICAL="physical",e.SPECIAL="special",e.STATUS="status",e.NULL="null"}(b||(b={}));var v,j=function e(t){var n,o,r,a,s;Object(i.a)(this,e),this.name=void 0,this.power=void 0,this.accuracy=void 0,this.damage_class=void 0,this.description=void 0,this.url=void 0,this.name=t.name,this.power=null!==(n=t.power)&&void 0!==n?n:-1,this.accuracy=null!==(o=t.accuracy)&&void 0!==o?o:-1,this.damage_class=null!==(r=t.damage_class)&&void 0!==r?r:b.NULL,this.description=null!==(a=t.description)&&void 0!==a?a:"",this.url=null!==(s=t.url)&&void 0!==s?s:""},O=function e(){Object(i.a)(this,e),this.createMoveFromStub=function(e){var t={name:e.move.name,url:e.move.url};return new j(t)},this.createMoveFromData=function(e){var t={name:e.name,power:e.power,accuracy:e.accuracy,damage_class:e.damage_class,description:e.description,url:e.url};return new j(t)}};!function(e){e.BUG="bug",e.DARK="dark",e.DRAGON="dragon",e.ELECTRIC="electric",e.FAIRY="fairy",e.FIGHTING="fighting",e.FIRE="fire",e.FLYING="flying",e.GHOST="ghost",e.GRASS="grass",e.GROUND="ground",e.ICE="ice",e.NORMAL="normal",e.POISON="poison",e.PSYCHIC="psychic",e.ROCK="rock",e.STEEL="steel",e.WATER="water",e.NULL=""}(v||(v={}));var g,y=function(e){switch(e){case"bug":return v.BUG;case"dark":return v.DARK;case"dragon":return v.DRAGON;case"electric":return v.ELECTRIC;case"fairy":return v.FAIRY;case"fighting":return v.FIGHTING;case"fire":return v.FIRE;case"flying":return v.FLYING;case"ghost":return v.GHOST;case"grass":return v.GRASS;case"ground":return v.GROUND;case"ice":return v.ICE;case"normal":return v.NORMAL;case"poison":return v.POISON;case"psychic":return v.PSYCHIC;case"rock":return v.ROCK;case"steel":return v.STEEL;case"water":return v.WATER;default:return v.NULL}};!function(e){e[e.HP=0]="HP",e[e.ATK=1]="ATK",e[e.DEF=2]="DEF",e[e.SPA=3]="SPA",e[e.SPD=4]="SPD",e[e.SPE=5]="SPE"}(g||(g={}));var S,x=function(){function e(t){var n;Object(i.a)(this,e),this.name=void 0,this.dexId=void 0,this.type1=void 0,this.type2=void 0,this.moves=void 0,this.frontDefault=void 0,this.frontShiny=void 0,this.stats=void 0,this.baseStats=void 0,this.url=void 0;var o=t.stats,r=g;this.name=t.name,this.dexId=t.id,this.moves=t.moves,this.type1=y(t.types[0].name),this.type2=t.types[1]?y(t.types[1].name):v.NULL,this.frontDefault=t.sprites.front_default,this.frontShiny=t.sprites.front_shiny,this.url=null!==(n=t.url)&&void 0!==n?n:"",this.stats={hp:o[r.HP].base_stat,attack:o[r.ATK].base_stat,defense:o[r.DEF].base_stat,spAttack:o[r.SPA].base_stat,spDefense:o[r.SPD].base_stat,speed:o[r.SPE].base_stat},this.baseStats=this.calculateBaseStats()}return Object(c.a)(e,[{key:"getDisplayStats",value:function(){return{name:this.name,id:this.dexId.toString(),moves:this.moves.map((function(e){return e.name})),type1:this.type1,type2:this.type2,sprites:{frontDefault:this.frontDefault,frontShiny:this.frontShiny}}}},{key:"hasFullData",get:function(){return this.name.length>0&&this.dexId>0&&this.moves.length>0&&this.frontDefault.length>0&&this.frontShiny.length>0}},{key:"hasUrl",get:function(){return this.url.length>0}},{key:"calculateBaseStats",value:function(){if(this.stats){var e=this.stats;return e.hp+e.attack+e.defense+e.spAttack+e.spDefense+e.speed}return 0}}]),e}(),P=function e(){var t=this;Object(i.a)(this,e),this.moveFactory=void 0,this.getFullPokemonConstructorProps=function(e){return{name:e.name,id:e.id,types:e.types.map((function(e){return e.type})),moves:e.moves.map((function(e){return t.moveFactory.createMoveFromStub(e)})),sprites:e.sprites,stats:e.stats.map((function(e){return{base_stat:e.base_stat}}))}},this.createPokemon=function(e){return new x(t.getFullPokemonConstructorProps(e))},this.createPokemonStub=function(e){var t={name:v.BUG,url:"https://pokeapi.co/api/v2/type/7/"},n={name:e.name,id:-1,types:[t],sprites:{back_default:null,back_female:null,back_shiny:null,back_shiny_female:null,front_default:"",front_female:null,front_shiny:"",front_shiny_female:null,other:{},versions:{}},moves:[],stats:[{base_stat:0},{base_stat:0},{base_stat:0},{base_stat:0},{base_stat:0},{base_stat:0}],url:e.url};return new x(n)},this.convertStubToDTO=function(e,n){var o=Object(k.a)(Object(k.a)({},t.getFullPokemonConstructorProps(n)),{},{url:e.url});return new x(o)},this.moveFactory=new O},C=function(e){var t=e.name,n=e.id;return Object(m.jsx)("div",{id:"PokemonName",children:Object(m.jsxs)("h5",{children:[t," ",n]})})},E=n(5),D=n(14),N=n(77),I=n(36),T=n(82),_=n(83),A=n(84),w=Object(D.a)(N.a)((function(e){var t=e.theme;return Object(E.a)({},"&.".concat(I.a.body),{color:t.palette.common.white,fontSize:14,textAlign:"center"})})),R=function(e){var t=e.baseStats,n=e.stats;return Object(m.jsxs)("div",{id:"PokemonBaseStats",children:[Object(m.jsx)("h5",{children:t}),Object(m.jsx)(T.a,{sx:{minWidth:300},"aria-label":"stat table",color:"white",children:Object(m.jsxs)(_.a,{children:[Object(m.jsxs)(A.a,{children:[Object(m.jsx)(w,{children:"HP"}),Object(m.jsx)(w,{children:null===n||void 0===n?void 0:n.hp})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(w,{children:"Attack"}),Object(m.jsx)(w,{children:null===n||void 0===n?void 0:n.attack})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(w,{children:"Defense"}),Object(m.jsx)(w,{children:null===n||void 0===n?void 0:n.defense})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(w,{children:"Special Attack"}),Object(m.jsx)(w,{children:null===n||void 0===n?void 0:n.spAttack})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(w,{children:"Special Defense"}),Object(m.jsx)(w,{children:null===n||void 0===n?void 0:n.spDefense})]}),Object(m.jsxs)(A.a,{children:[Object(m.jsx)(w,{children:"Speed"}),Object(m.jsx)(w,{children:null===n||void 0===n?void 0:n.speed})]})]})})]})},L={borderRadius:"0.25rem",margin:"0 0.2rem",padding:"0 0.3rem",width:"100%"},F=function(e){var t=e.type;if(t===v.NULL)return Object(m.jsx)(m.Fragment,{});var n=Object(k.a)(Object(k.a)({},L),function(e){var t={backgroundColor:"",color:"#fff",textShadow:"1px 1px 2px #000"};switch(e){case v.BUG:t.backgroundColor="#71c049";break;case v.DARK:t.backgroundColor="#564336";break;case v.DRAGON:t.backgroundColor="#510ff0";break;case v.ELECTRIC:t.backgroundColor="#f1c310";break;case v.FAIRY:t.backgroundColor="#f65bff";break;case v.FIGHTING:t.backgroundColor="#b32c25";break;case v.FIRE:t.backgroundColor="#eb7928";break;case v.FLYING:t.backgroundColor="#9c87d9";break;case v.GHOST:t.backgroundColor="#66508b";break;case v.GRASS:t.backgroundColor="#6ebd47";break;case v.GROUND:t.backgroundColor="#ddbb5d";break;case v.ICE:t.backgroundColor="#8fd4d4";break;case v.NORMAL:t.backgroundColor="#a0a070";break;case v.POISON:t.backgroundColor="#983c98";break;case v.PSYCHIC:t.backgroundColor="#f74f82";break;case v.ROCK:t.backgroundColor="#b09935";break;case v.STEEL:t.backgroundColor="#b2b2cb";break;case v.WATER:t.backgroundColor="#5985ee";break;case v.NULL:default:t.color="inherit",t.backgroundColor="inherit"}return t}(t));return Object(m.jsx)("span",{style:n,children:t})},U=function(e){var t=e.altImageName,n=e.defaultFront,o=e.defaultFrontS;return Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{id:"pokemonDisplay",src:n,alt:t}),o?Object(m.jsx)("img",{id:"pokemonDisplay",src:o,alt:t}):Object(m.jsx)("h2",{children:"No Shiny"})]})},G=n(79),M=function(e){var t=e.pokemon;return Object(m.jsxs)(G.a,{container:!0,alignItems:"center",columnSpacing:0,children:[Object(m.jsx)(G.a,{item:!0,xs:12,sm:7,children:Object(m.jsx)(U,{altImageName:t.name,defaultFront:t.frontDefault,defaultFrontS:t.frontShiny})}),Object(m.jsxs)(G.a,{item:!0,xs:12,sm:!0,children:[Object(m.jsx)(F,{type:t.type1}),Object(m.jsx)(F,{type:t.type2}),Object(m.jsx)(C,{name:t.name,id:t.dexId})]}),Object(m.jsx)(G.a,{item:!0,xs:12,children:Object(m.jsx)(R,{baseStats:t.baseStats,stats:t.stats})})]})},H=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"Waiting for Pokemon selection"})})},K=n(81),B=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).pokemonToDisplay=void 0,o.pokemonFactory=void 0,o.state={pokemonObject:{}},o.pokemonToDisplay=null,o.pokemonFactory=new P,o}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){e.pokemonUrl!==this.props.pokemonUrl&&this.fetchPokemonObject()}},{key:"fetchPokemonObject",value:function(){var e=this,t=this.props.pokemonUrl;t&&""!==t&&this.props.getPokemonData(t).then((function(t){return e.createPokemonObject(t)})).catch(console.log)}},{key:"createPokemonObject",value:function(e){this.pokemonToDisplay=this.pokemonFactory.createPokemon(e),this.setState({pokemonObject:this.pokemonToDisplay.getDisplayStats()})}},{key:"render",value:function(){var e=this.pokemonToDisplay;return e?Object(m.jsx)(K.a,{maxWidth:"sm",children:Object(m.jsx)(M,{pokemon:e})}):Object(m.jsx)("div",{className:"AwaitingPokemon",children:Object(m.jsx)(H,{})})}}]),n}(r.a.Component),Y=n(24),W=n.n(Y),J=n(37);!function(e){e[e.MILLISECONDS_PER_SECOND=1e3]="MILLISECONDS_PER_SECOND",e[e.SECONDS_PER_MINUTE=60]="SECONDS_PER_MINUTE",e[e.MINUTES_PER_HOUR=60]="MINUTES_PER_HOUR"}(S||(S={}));var z=function(){function e(){Object(i.a)(this,e),this.pokemonTable=void 0,this.expiryTimestamp=void 0,this.factory=void 0,this.pokemonTable={},this.factory=new P,this.expiryTimestamp=this.initTimestamp()}return Object(c.a)(e,[{key:"initTimestamp",value:function(){var t=Number(localStorage.getItem(e.storageTimestampKey));return null!==t&&void 0!==t?t:0}},{key:"setExpiryTimestamp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,n=Date.now()+t*S.MILLISECONDS_PER_SECOND*S.SECONDS_PER_MINUTE;localStorage.setItem(e.storageTimestampKey,n.toString())}},{key:"isExpired",get:function(){return this.expiryTimestamp<Date.now()}},{key:"setPokemonData",value:function(e){this.pokemonTable[e.name]=e}},{key:"getPokemonData",value:function(e){var t;return null!==(t=this.pokemonTable[e])&&void 0!==t?t:null}},{key:"getAllPokemon",value:function(){var e,t=this;return null!==(e=Object.keys(this.pokemonTable).map((function(e){return t.pokemonTable[e]})))&&void 0!==e?e:[]}},{key:"loadPokemonBatch",value:function(e){var t=this;e.forEach((function(e){return t.setPokemonData(e)}))}},{key:"savePokemon",value:function(){localStorage.setItem("pokemonTable",JSON.stringify(this.pokemonTable))}},{key:"loadFromStorage",value:function(){var e=this,t=localStorage.getItem("pokemonTable");if(t){var n=JSON.parse(t);Object.keys(n).forEach((function(t){var o=e.factory.createPokemonStub(n[t]);e.setPokemonData(o)}))}}}]),e}();z.storageTimestampKey="expiryTimestamp";var Q=function(){function e(){var t=this;Object(i.a)(this,e),this.getAllUrl=void 0,this.factory=void 0,this.repository=void 0,this.resolvePokemonStubs=function(){var e=Object(J.a)(W.a.mark((function e(n){var o,r,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return o=e.sent,r=o.results,a=r.filter((function(e){var n=e.url.substring(0,e.url.length-1).split("/"),o=Number(n.pop());return!!(o&&o<1e4)&&t.factory.createPokemonStub(e)})),t.storePokemonStubs(a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllUrl="https://pokeapi.co/api/v2/pokemon?limit=1000offset=0",this.repository=new z,this.factory=new P}return Object(c.a)(e,[{key:"storePokemonStubs",value:function(e){try{this.repository.loadPokemonBatch(e),this.repository.savePokemon(),this.repository.setExpiryTimestamp(30)}catch(t){"string"===typeof t?console.log("Could not store pokemon stubs: ".concat(t)):t instanceof Error?console.log("Failed to store pokemon stub: ".concat(t.message)):console.log("Unknown error storing pokemon stubs: ".concat(t))}}},{key:"getAllPokemon",value:function(){var e=Object(J.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.repository.isExpired){e.next=6;break}return e.next=3,fetch(this.getAllUrl).then(this.resolvePokemonStubs);case 3:return e.abrupt("return",e.sent);case 6:return this.repository.loadFromStorage(),e.abrupt("return",Promise.resolve(this.repository.getAllPokemon()));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemon",value:function(e){return fetch(e).then((function(e){return e.json()}))}}]),e}(),$=["ho-oh","porygon-z","jangmo-o","hakamo-o","kommo-o"],q={"mr-mime":"Mr. Mime","mime-jr":"Mime Jr.","mr-rime":"Mr. Rime"},V={"nidoran-m":"Nidoran\u2642","nidoran-f":"Nidoran\u2640"},X={farfetchd:"Farfetch'd",sirfetchd:"Sirfetch'd"},Z={flabebe:"Flab\xe9b\xe9"},ee={"type-null":"Type: Null"};function te(e,t){if(t){var n=e.split("-");return n[0].charAt(0).toUpperCase()+n[0].slice(1)+"-"+n[1].charAt(0).toUpperCase()+n[1].slice(1)}return e.charAt(0).toUpperCase()+e.slice(1)}var ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(i.a)(this,n),(o=t.call(this,e)).pokeService=void 0,o.onSearchChange=function(e){e&&e.target&&e.target.value&&o.setState({searchfield:e.target.value})},o.onPokemonSelected=function(e,t){t&&""!==t&&o.setState({pokemonSelected:e,pokemonUrl:t})},o.state={pokemonList:[],pokemonName:"",searchfield:"",pokemonSelected:"",pokemonUrl:""},o.pokeService=new Q,o}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.pokeService.getAllPokemon().then((function(t){t.map((function(e){return e.name=(t=e.name.toLowerCase())in q?q[t]:t in V?V[t]:t in X?X[t]:t in Z?Z[t]:t in ee?ee[t]:t.includes("-")&&!$.find((function(e){return e===t}))?te(t.split("-")[0]):t.includes("-")&&$.find((function(e){return e===t}))?te(t,!0):te(t);var t})),e.setState({pokemonList:t})})).catch(console.log)}},{key:"render",value:function(){var e=this.state,t=e.pokemonList,n=e.searchfield,o=e.pokemonUrl,r=[];return n.length<2||(r=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("h1",{children:"Search for a Pokemon"}),Object(m.jsx)(f,{searchChange:this.onSearchChange}),Object(m.jsx)(p,{onPokemonSelected:this.onPokemonSelected,pokemonQuery:r}),Object(m.jsx)(B,{getPokemonData:this.pokeService.getPokemon,pokemonUrl:o})]})}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.6ef82ffc.chunk.js.map